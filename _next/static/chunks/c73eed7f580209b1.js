(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71689,e=>{"use strict";let a=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>a],71689)},56909,e=>{"use strict";let a=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>a],56909)},61911,e=>{"use strict";let a=(0,e.i(75254).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["Users",()=>a],61911)},42920,e=>{"use strict";let a=(0,e.i(75254).default)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]);e.s(["Building",()=>a],42920)},39544,e=>{"use strict";let a=(0,e.i(75254).default)("droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);e.s(["Droplets",()=>a],39544)},39312,e=>{"use strict";let a=(0,e.i(75254).default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);e.s(["Zap",()=>a],39312)},28362,e=>{"use strict";var a=e.i(43476);function t({message:e="Y√ºkleniyor..."}){return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-green-500"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:e})]})}e.s(["default",()=>t])},61659,e=>{"use strict";let a=(0,e.i(75254).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);e.s(["CreditCard",()=>a],61659)},98919,e=>{"use strict";let a=(0,e.i(75254).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>a],98919)},7233,e=>{"use strict";let a=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>a],7233)},92930,e=>{"use strict";let a=(0,e.i(75254).default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);e.s(["Edit2",()=>a],92930)},2153,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(18566),r=e.i(84614),i=e.i(94351),l=e.i(61911),n=e.i(75254);let d=(0,n.default)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);var c=e.i(56909),o=e.i(98919);let m=(0,n.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),u=(0,n.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var x=e.i(71689),h=e.i(7233),y=e.i(42920),p=e.i(39544),b=e.i(39312),g=e.i(92930);let f=(0,n.default)("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);var j=e.i(61659),k=e.i(17927),v=e.i(28362);function w(){let e=(0,s.useRouter)(),[n,w]=(0,t.useState)(null),[N,_]=(0,t.useState)(!0),[z,S]=(0,t.useState)(!1),[M,A]=(0,t.useState)({name:"",email:"",currentPassword:"",newPassword:"",confirmPassword:"",notifications:!0,marketingEmails:!1}),[C,P]=(0,t.useState)({company_id:"",subscriber_no:"",utility_type:"water"}),[D,E]=(0,t.useState)([]),[H,q]=(0,t.useState)([]),[B,L]=(0,t.useState)({totalConsumptions:0,totalPoints:0,joinedDate:"",lastLogin:"",activeSubscriptions:0}),[T,Y]=(0,t.useState)(!1),[K,O]=(0,t.useState)(null),[I,$]=(0,t.useState)(!1);(0,t.useEffect)(()=>{F(),G()},[]),(0,t.useEffect)(()=>{if(D.length>0){let e=D.filter(e=>e.is_active).length;L(a=>({...a,activeSubscriptions:e}))}},[D]);let F=()=>{let a=localStorage.getItem("ekoakort_user");a?w(JSON.parse(a)):e.push("/login")},G=async()=>{try{let e=JSON.parse(localStorage.getItem("ekoakort_user")||"{}"),{data:a}=await k.supabase.from("users").select("*").eq("id",e.id).single();if(a){A({name:a.name||"",email:a.email||"",currentPassword:"",newPassword:"",confirmPassword:"",notifications:!0,marketingEmails:!1}),await R(e.id),await J();let{count:t}=await k.supabase.from("consumptions").select("*",{count:"exact"}).eq("user_id",e.id);L(e=>({...e,totalConsumptions:t||0,totalPoints:a.total_points||0,joinedDate:new Date(a.created_at).toLocaleDateString("tr-TR"),lastLogin:new Date(a.last_login||a.created_at).toLocaleDateString("tr-TR")}))}}catch(e){console.error("Kullanƒ±cƒ± verisi alƒ±namadƒ±:",e)}finally{_(!1)}},R=async e=>{try{let{data:a}=await k.supabase.from("user_subscriptions").select(`
          id,
          company_id,
          subscriber_no,
          utility_type,
          is_active,
          companies!inner (
            id,
            name,
            code,
            utility_type,
            is_contracted
          )
        `).eq("user_id",e).order("created_at",{ascending:!1});if(a){let e=a.map(e=>({id:e.id,company_id:e.company_id,subscriber_no:e.subscriber_no,utility_type:e.utility_type,is_active:e.is_active,companies:Array.isArray(e.companies)?e.companies:[e.companies]}));E(e)}}catch(e){console.error("Abonelikler y√ºklenemedi:",e)}},J=async()=>{try{let{data:e}=await k.supabase.from("companies").select("*").order("name");q(e||[])}catch(e){console.error("≈ûirketler y√ºklenemedi:",e)}},U=async(e,a,t)=>{try{let s=new Date,r=[];for(let a=3;a>=1;a--){let i=new Date(s.getFullYear(),s.getMonth()-a,15),l=null,n=null;"water"===t.utility_type?l=(25+15*Math.random()-7.5)*(1-.05*a):n=(250+200*Math.random()-100)*(1-.04*a),r.push({user_id:e,subscription_id:0,water_amount:"water"===t.utility_type?Number(l?.toFixed(2)):null,electricity_amount:"electricity"===t.utility_type?Number(n?.toFixed(2)):null,month:i.getMonth()+1,year:i.getFullYear(),created_at:i.toISOString(),monthly_points:Math.floor(80+40*Math.random())})}let{data:i}=await k.supabase.from("user_subscriptions").select("id").eq("user_id",e).eq("company_id",a).eq("subscriber_no",t.subscriber_no).single();if(!i)return;let l=r.map(e=>({...e,subscription_id:i.id})),{error:n}=await k.supabase.from("consumptions").insert(l);if(n)throw n;console.log(`‚úÖ ${l.length} ay ge\xe7mi≈ü veri y\xfcklendi`)}catch(e){console.error("Ge√ßmi≈ü veri y√ºkleme hatasƒ±:",e)}},V=async()=>{S(!0);try{let e=JSON.parse(localStorage.getItem("ekoakort_user")||"{}"),a={};if(M.name&&(a.name=M.name),M.email&&(a.email=M.email),M.newPassword){if(M.newPassword!==M.confirmPassword){alert("Yeni ≈üifreler e≈üle≈ümiyor!"),S(!1);return}if(M.newPassword.length<6){alert("≈ûifre en az 6 karakter olmalƒ±dƒ±r!"),S(!1);return}a.password=M.newPassword}let{error:t}=await k.supabase.from("users").update(a).eq("id",e.id);if(t)throw t;let s={...e,name:M.name||e.name};localStorage.setItem("ekoakort_user",JSON.stringify(s)),w(s),alert("Profil bilgileriniz ba≈üarƒ±yla g√ºncellendi!"),M.newPassword&&A({...M,currentPassword:"",newPassword:"",confirmPassword:""})}catch(e){console.error("G√ºncelleme hatasƒ±:",e),alert("G√ºncelleme sƒ±rasƒ±nda hata: "+e.message)}finally{S(!1)}},Z=async()=>{if(!C.company_id||!C.subscriber_no)return void alert("L√ºtfen t√ºm alanlarƒ± doldurun");try{let e=JSON.parse(localStorage.getItem("ekoakort_user")||"{}"),a=parseInt(C.company_id),{data:t}=await k.supabase.from("companies").select("is_contracted, name").eq("id",a).single(),{error:s}=await k.supabase.from("user_subscriptions").insert([{user_id:e.id,company_id:a,subscriber_no:C.subscriber_no,utility_type:C.utility_type,is_active:!0,created_at:new Date().toISOString()}]);if(s)throw s;t?.is_contracted?(await U(e.id,a,C),alert(`‚úÖ ${t.name} aboneliƒüi eklendi!

üéâ S\xf6zle≈ümeli firma olduƒüu i\xe7in son 3 ayƒ±n demo verileri otomatik y\xfcklendi!`)):alert(`‚úÖ Abonelik ba≈üarƒ±yla eklendi!

‚ÑπÔ∏è Bu firma s\xf6zle≈ümeli deƒüil, verilerinizi manuel girmeniz gerekecek.`),P({company_id:"",subscriber_no:"",utility_type:"water"}),Y(!1),$(!1),await R(e.id)}catch(e){console.error("Abonelik ekleme hatasƒ±:",e),alert("Abonelik eklenirken hata: "+e.message)}},W=async(e,a)=>{try{let{error:t}=await k.supabase.from("user_subscriptions").update({is_active:!a}).eq("id",e);if(t)throw t;alert(`Abonelik ${!a?"aktif":"pasif"} edildi!`),await R(n.id)}catch(e){console.error("Abonelik g√ºncelleme hatasƒ±:",e),alert("G√ºncelleme sƒ±rasƒ±nda hata: "+e.message)}},Q=async e=>{if(confirm("Bu aboneliƒüi silmek istediƒüinize emin misiniz?"))try{let{error:a}=await k.supabase.from("user_subscriptions").delete().eq("id",e);if(a)throw a;alert("Abonelik silindi!"),await R(n.id)}catch(e){console.error("Abonelik silme hatasƒ±:",e),alert("Silme sƒ±rasƒ±nda hata: "+e.message)}};return N?(0,a.jsx)(v.default,{message:"Profil y√ºkleniyor..."}):(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("button",{onClick:()=>e.push("/dashboard"),className:"mr-4 p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition",children:(0,a.jsx)(x.ArrowLeft,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Profil Y√∂netimi"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Ki≈üisel bilgileriniz ve aboneliklerinizi y√∂netin"})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow border p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center",children:[(0,a.jsx)(r.User,{className:"w-5 h-5 mr-2 text-green-600"}),"Ki≈üisel Bilgiler"]}),(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adƒ±nƒ±z"}),(0,a.jsx)("input",{type:"text",value:M.name,onChange:e=>A({...M,name:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Adƒ±nƒ±z"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-posta Adresi"}),(0,a.jsx)("input",{type:"email",value:M.email,onChange:e=>A({...M,email:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"ornek@email.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Daire Bilgisi"}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500",children:(0,a.jsx)(i.Home,{className:"w-4 h-4"})}),(0,a.jsx)("input",{type:"text",value:`${n?.apartment?.building?.name||"Apartman"}, Daire ${n?.apartment?.number||"?"}`,disabled:!0,className:"flex-1 px-4 py-3 border border-gray-300 rounded-r-lg bg-gray-50 text-gray-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aile √úye Sayƒ±sƒ±"}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500",children:(0,a.jsx)(l.Users,{className:"w-4 h-4"})}),(0,a.jsx)("input",{type:"number",value:n?.family_size||1,disabled:!0,className:"flex-1 px-4 py-3 border border-gray-300 rounded-r-lg bg-gray-50 text-gray-500"})]})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow border p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[(0,a.jsx)(j.CreditCard,{className:"w-5 h-5 mr-2 text-blue-600"}),"Aboneliklerim"]}),(0,a.jsxs)("button",{onClick:()=>{Y(!0),O(null),P({company_id:"",subscriber_no:"",utility_type:"water"}),$(!1)},className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition flex items-center",children:[(0,a.jsx)(h.Plus,{className:"w-4 h-4 mr-2"}),"Yeni Abonelik"]})]}),0===D.length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(j.CreditCard,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Hen√ºz aboneliƒüiniz bulunmuyor."}),(0,a.jsx)("button",{onClick:()=>Y(!0),className:"px-6 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition",children:"ƒ∞lk Aboneliƒüinizi Ekleyin"})]}):(0,a.jsx)("div",{className:"space-y-4",children:D.map(e=>{let t=e.companies?.[0];return(0,a.jsxs)("div",{className:`border rounded-lg p-4 ${e.is_active?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50"}`,children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:`p-2 rounded-lg mr-3 ${"water"===e.utility_type?"bg-blue-100 text-blue-600":"bg-yellow-100 text-yellow-600"}`,children:"water"===e.utility_type?(0,a.jsx)(p.Droplets,{className:"w-5 h-5"}):(0,a.jsx)(b.Zap,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-bold text-gray-800",children:[t?.name||"Bilinmeyen ≈ûirket",t?.is_contracted&&(0,a.jsx)("span",{className:"ml-2 text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:"ü§ù S√∂zle≈ümeli"})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["water"===e.utility_type?"üíß Su":"‚ö° Elektrik",(0,a.jsx)("span",{className:"mx-2",children:"‚Ä¢"}),"Abone No: ",e.subscriber_no]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>{let a;return P({company_id:e.company_id.toString(),subscriber_no:e.subscriber_no,utility_type:e.utility_type}),O(e.id),Y(!0),a=e.companies?.[0],void(a?.is_contracted?$(!0):$(!1))},className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg",title:"D√ºzenle",children:(0,a.jsx)(g.Edit2,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>W(e.id,e.is_active),className:`p-2 rounded-lg ${e.is_active?"text-yellow-600 hover:bg-yellow-50":"text-green-600 hover:bg-green-50"}`,title:e.is_active?"Pasif Yap":"Aktif Yap",children:(0,a.jsx)(f,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>Q(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Sil",children:(0,a.jsx)(u,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:`px-2 py-1 rounded ${e.is_active?"bg-green-100 text-green-700":"bg-gray-200 text-gray-700"}`,children:e.is_active?"‚úÖ Aktif":"‚è∏Ô∏è Pasif"}),(0,a.jsx)("span",{className:"text-gray-500",children:t?.code||"KOD"})]})]},e.id)})}),T&&(0,a.jsxs)("div",{className:"mt-6 p-4 border border-green-300 rounded-lg bg-green-50",children:[(0,a.jsxs)("h3",{className:"font-bold text-gray-800 mb-4 flex items-center",children:[(0,a.jsx)(h.Plus,{className:"w-5 h-5 mr-2 text-green-600"}),K?"Aboneliƒüi D√ºzenle":"Yeni Abonelik Ekle"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hizmet Tipi"}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"radio",value:"water",checked:"water"===C.utility_type,onChange:e=>P({...C,utility_type:e.target.value}),className:"mr-2"}),(0,a.jsx)(p.Droplets,{className:"w-4 h-4 text-blue-500 mr-1"}),"Su"]}),(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"radio",value:"electricity",checked:"electricity"===C.utility_type,onChange:e=>P({...C,utility_type:e.target.value}),className:"mr-2"}),(0,a.jsx)(b.Zap,{className:"w-4 h-4 text-yellow-500 mr-1"}),"Elektrik"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"≈ûirket *"}),(0,a.jsxs)("select",{value:C.company_id,onChange:e=>{let a=H.find(a=>a.id===parseInt(e.target.value));P({...C,company_id:e.target.value}),$(a?.is_contracted||!1)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"",children:"≈ûirket se√ßin"}),H.filter(e=>"water"===C.utility_type?"water"===e.utility_type||"both"===e.utility_type:"electricity"===e.utility_type||"both"===e.utility_type).map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.name," (",e.code,")",e.is_contracted?" ‚úÖ S√∂zle≈ümeli":""]},e.id))]}),I&&(0,a.jsx)("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-green-800",children:"S√∂zle≈ümeli Firma"}),(0,a.jsxs)("p",{className:"text-sm text-green-600 mt-1",children:["Bu firma ile otomatik veri entegrasyonumuz bulunuyor. Aboneliƒüiniz eklendiƒüinde"," ",(0,a.jsx)("strong",{children:"son 3 aylƒ±k t√ºketim verileriniz otomatik y√ºklenecektir."})]})]})]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Abone Numarasƒ± *"}),(0,a.jsx)("input",{type:"text",value:C.subscriber_no,onChange:e=>P({...C,subscriber_no:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Faturanƒ±zda yazan abone numarasƒ±"})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{onClick:Z,className:"flex-1 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition",children:K?"G√ºncelle":"Kaydet"}),(0,a.jsx)("button",{onClick:()=>{Y(!1),O(null),P({company_id:"",subscriber_no:"",utility_type:"water"}),$(!1)},className:"flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"ƒ∞ptal"})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow border p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center",children:[(0,a.jsx)(d,{className:"w-5 h-5 mr-2 text-purple-600"}),"≈ûifre Deƒüi≈ütir"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yeni ≈ûifre"}),(0,a.jsx)("input",{type:"password",value:M.newPassword,onChange:e=>A({...M,newPassword:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"En az 6 karakter",minLength:6})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yeni ≈ûifre (Tekrar)"}),(0,a.jsx)("input",{type:"password",value:M.confirmPassword,onChange:e=>A({...M,confirmPassword:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"≈ûifreyi tekrar girin"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"≈ûifreniz en az 6 karakter uzunluƒüunda olmalƒ±dƒ±r."})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{onClick:V,disabled:z,className:"px-8 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition flex items-center",children:z?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Kaydediliyor..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Save,{className:"w-5 h-5 mr-2"}),"T√ºm Deƒüi≈üiklikleri Kaydet"]})})})]}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow border p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center",children:[(0,a.jsx)(y.Building,{className:"w-5 h-5 mr-2 text-blue-600"}),"Hesap √ñzeti"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Toplam Puan"}),(0,a.jsx)("span",{className:"font-bold text-green-600",children:B.totalPoints})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Kayƒ±t Sayƒ±sƒ±"}),(0,a.jsx)("span",{className:"font-bold text-gray-800",children:B.totalConsumptions})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Aktif Abonelikler"}),(0,a.jsx)("span",{className:"font-bold text-blue-600",children:B.activeSubscriptions})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Katƒ±lma Tarihi"}),(0,a.jsx)("span",{className:"font-medium text-gray-800",children:B.joinedDate})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Son Giri≈ü"}),(0,a.jsx)("span",{className:"font-medium text-gray-800",children:B.lastLogin})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow border p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center",children:[(0,a.jsx)(m,{className:"w-5 h-5 mr-2 text-yellow-600"}),"Bildirimler"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-800",children:"Saya√ß Hatƒ±rlatmalarƒ±"}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Aylƒ±k saya√ß giri≈üi"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:M.notifications,onChange:e=>A({...M,notifications:e.target.checked}),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-800",children:"E-posta Raporlarƒ±"}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Haftalƒ±k √∂zet"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:M.marketingEmails,onChange:e=>A({...M,marketingEmails:e.target.checked}),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow border p-6 border-red-100",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center",children:[(0,a.jsx)(o.Shield,{className:"w-5 h-5 mr-2 text-red-600"}),"Hesap G√ºvenliƒüi"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("button",{onClick:()=>{localStorage.clear(),e.push("/login")},className:"w-full px-4 py-3 border-2 border-red-500 text-red-600 font-semibold rounded-lg hover:bg-red-50 transition",children:"√áƒ±kƒ±≈ü Yap"}),(0,a.jsxs)("button",{onClick:()=>{confirm("Hesabƒ±nƒ±zƒ± silmek istediƒüinize emin misiniz?\n\nBu i≈ülem geri alƒ±namaz. T√ºm verileriniz (abonelikler, t√ºketim kayƒ±tlarƒ±, puanlar) kalƒ±cƒ± olarak silinecektir.")&&alert("Demo s√ºr√ºm√ºnde hesap silme √∂zelliƒüi devre dƒ±≈üƒ±dƒ±r.\n\nGer√ßek uygulamada hesap silme i≈ülemi yapƒ±lacaktƒ±r.")},className:"w-full px-4 py-3 bg-red-50 text-red-700 font-semibold rounded-lg hover:bg-red-100 transition flex items-center justify-center",children:[(0,a.jsx)(u,{className:"w-4 h-4 mr-2"}),"Hesabƒ± Sil"]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Hesap silme t√ºm verilerinizi kalƒ±cƒ± olarak silecektir."})]})]})]})]})]})}e.s(["default",()=>w],2153)}]);